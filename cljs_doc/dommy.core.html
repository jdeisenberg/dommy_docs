<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>dommy.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Dommy 1.0.1-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojure</span></div></div></li><li class="depth-2"><a href="clojure.string.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>string</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>dommy</span></div></div></li><li class="depth-2 branch"><a href="dommy.attrs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>attrs</span></div></a></li><li class="depth-2 branch current"><a href="dommy.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="dommy.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="dommy.core.html#var-add-class.21"><div class="inner"><span>add-class!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-ancestor-nodes"><div class="inner"><span>ancestor-nodes</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-ancestors"><div class="inner"><span>ancestors</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-append.21"><div class="inner"><span>append!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-attr"><div class="inner"><span>attr</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-bounding-client-rect"><div class="inner"><span>bounding-client-rect</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-by-class"><div class="inner"><span>by-class</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-by-id"><div class="inner"><span>by-id</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-by-tag"><div class="inner"><span>by-tag</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-children"><div class="inner"><span>children</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-class"><div class="inner"><span>class</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-clear.21"><div class="inner"><span>clear!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-closest"><div class="inner"><span>closest</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-create-element"><div class="inner"><span>create-element</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-create-text-node"><div class="inner"><span>create-text-node</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-descendant.3F"><div class="inner"><span>descendant?</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-elem-and-selector"><div class="inner"><span>elem-and-selector</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-event-listeners"><div class="inner"><span>event-listeners</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-has-class.3F"><div class="inner"><span>has-class?</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-hidden.3F"><div class="inner"><span>hidden?</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-hide.21"><div class="inner"><span>hide!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-html"><div class="inner"><span>html</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-insert-after.21"><div class="inner"><span>insert-after!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-insert-before.21"><div class="inner"><span>insert-before!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-listen.21"><div class="inner"><span>listen!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-listen-once.21"><div class="inner"><span>listen-once!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-live-listener"><div class="inner"><span>live-listener</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-matches-pred"><div class="inner"><span>matches-pred</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-parent"><div class="inner"><span>parent</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-prepend.21"><div class="inner"><span>prepend!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-px"><div class="inner"><span>px</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-remove.21"><div class="inner"><span>remove!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-remove-attr.21"><div class="inner"><span>remove-attr!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-remove-class.21"><div class="inner"><span>remove-class!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-replace.21"><div class="inner"><span>replace!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-replace-contents.21"><div class="inner"><span>replace-contents!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-scroll-into-view"><div class="inner"><span>scroll-into-view</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-sel"><div class="inner"><span>sel</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-sel1"><div class="inner"><span>sel1</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-selector"><div class="inner"><span>selector</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-set-attr.21"><div class="inner"><span>set-attr!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-set-class.21"><div class="inner"><span>set-class!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-set-html.21"><div class="inner"><span>set-html!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-set-px.21"><div class="inner"><span>set-px!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-set-style.21"><div class="inner"><span>set-style!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-set-text.21"><div class="inner"><span>set-text!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-set-value.21"><div class="inner"><span>set-value!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-show.21"><div class="inner"><span>show!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-special-listener-makers"><div class="inner"><span>special-listener-makers</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-style"><div class="inner"><span>style</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-text"><div class="inner"><span>text</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-toggle.21"><div class="inner"><span>toggle!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-toggle-attr.21"><div class="inner"><span>toggle-attr!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-toggle-class.21"><div class="inner"><span>toggle-class!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-unlisten.21"><div class="inner"><span>unlisten!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-update-event-listeners.21"><div class="inner"><span>update-event-listeners!</span></div></a></li><li class="depth-1"><a href="dommy.core.html#var-value"><div class="inner"><span>value</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">dommy.core</h2><div class="doc"><pre class="plaintext">Core DOM manipulation functions
</pre></div><div class="public anchor" id="var-add-class.21"><h3>add-class!</h3><div class="usage"><code>(add-class! elem classes)</code><code>(add-class! elem classes &amp; more-classes)</code></div><div class="doc"><pre class="plaintext">Add `classes` to `elem`, trying to use Element::classList, and
falling back to fast string parsing/manipulation</pre></div></div><div class="public anchor" id="var-ancestor-nodes"><h3>ancestor-nodes</h3><h4 class="deprecated">deprecated in 1.0.0</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-ancestors"><h3>ancestors</h3><div class="usage"><code>(ancestors elem)</code></div><div class="doc"><pre class="plaintext">Lazy seq of the ancestors of `elem`
</pre></div></div><div class="public anchor" id="var-append.21"><h3>append!</h3><div class="usage"><code>(append! parent child)</code><code>(append! parent child &amp; more-children)</code></div><div class="doc"><pre class="plaintext">Append `child` to `parent`
</pre></div></div><div class="public anchor" id="var-attr"><h3>attr</h3><div class="usage"><code>(attr elem k)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-bounding-client-rect"><h3>bounding-client-rect</h3><div class="usage"><code>(bounding-client-rect elem)</code></div><div class="doc"><pre class="plaintext">Returns a map of the bounding client rect of `elem`
as a map with [:top :left :right :bottom :width :height]</pre></div></div><div class="public anchor" id="var-by-class"><h3>by-class</h3><h4 class="type">macro</h4><div class="usage"><code>(by-class class)</code><code>(by-class base class)</code></div><div class="doc"><pre class="plaintext">Returns a sequence of DOM nodes selected by `class`. `class` can be
a string or keyword and should not include the . selector prefix.
Expands to `base.getElementsByClassName`. If `base` node is given,
selection is limited to its descendant nodes.</pre></div></div><div class="public anchor" id="var-by-id"><h3>by-id</h3><h4 class="type">macro</h4><div class="usage"><code>(by-id id)</code></div><div class="doc"><pre class="plaintext">Returns the DOM node with id in document if it exists, otherwise nil.
`id` can be a string or keyword. Expands to `document.getElementById`.</pre></div></div><div class="public anchor" id="var-by-tag"><h3>by-tag</h3><h4 class="type">macro</h4><div class="usage"><code>(by-tag tag)</code><code>(by-tag base tag)</code></div><div class="doc"><pre class="plaintext">Same behavior as `by-class`, selecting by `tag` instead of a class.
</pre></div></div><div class="public anchor" id="var-children"><h3>children</h3><div class="usage"><code>(children elem)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-class"><h3>class</h3><div class="usage"><code>(class elem)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-clear.21"><h3>clear!</h3><div class="usage"><code>(clear! elem)</code></div><div class="doc"><pre class="plaintext">Clears all children from `elem`
</pre></div></div><div class="public anchor" id="var-closest"><h3>closest</h3><div class="usage"><code>(closest base elem selector)</code><code>(closest elem selector)</code></div><div class="doc"><pre class="plaintext">Closest ancestor of `elem` (up to `base`, if provided)
that matches `selector`</pre></div></div><div class="public anchor" id="var-create-element"><h3>create-element</h3><div class="usage"><code>(create-element tag)</code><code>(create-element tag-ns tag)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-create-text-node"><h3>create-text-node</h3><div class="usage"><code>(create-text-node text)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-descendant.3F"><h3>descendant?</h3><div class="usage"><code>(descendant? descendant ancestor)</code></div><div class="doc"><pre class="plaintext">Is `descendant` a descendant of `ancestor`?
(<a href="http://goo.gl/T8pgCX)">http://goo.gl/T8pgCX)</a></pre></div></div><div class="public anchor" id="var-elem-and-selector"><h3>elem-and-selector</h3><div class="usage"><code>(elem-and-selector elem-sel)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-event-listeners"><h3>event-listeners</h3><div class="usage"><code>(event-listeners elem)</code></div><div class="doc"><pre class="plaintext">Returns a nested map of event listeners on `elem`
</pre></div></div><div class="public anchor" id="var-has-class.3F"><h3>has-class?</h3><div class="usage"><code>(has-class? elem c)</code></div><div class="doc"><pre class="plaintext">Does `elem` contain `c` in its class list
</pre></div></div><div class="public anchor" id="var-hidden.3F"><h3>hidden?</h3><div class="usage"><code>(hidden? elem)</code></div><div class="doc"><pre class="plaintext">Is `elem` hidden (as associated with hide!/show!/toggle!, using display: none)
</pre></div></div><div class="public anchor" id="var-hide.21"><h3>hide!</h3><div class="usage"><code>(hide! elem)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-html"><h3>html</h3><div class="usage"><code>(html elem)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-insert-after.21"><h3>insert-after!</h3><div class="usage"><code>(insert-after! elem other)</code></div><div class="doc"><pre class="plaintext">Insert `elem` after `other`, `other` must have a parent
</pre></div></div><div class="public anchor" id="var-insert-before.21"><h3>insert-before!</h3><div class="usage"><code>(insert-before! elem other)</code></div><div class="doc"><pre class="plaintext">Insert `elem` before `other`, `other` must have a parent
</pre></div></div><div class="public anchor" id="var-listen.21"><h3>listen!</h3><div class="usage"><code>(listen! elem-sel &amp; type-fs)</code></div><div class="doc"><pre class="plaintext">Adds `f` as a listener for events of type `event-type` on
`elem-sel`, which must either be a DOM node, or a sequence
whose first item is a DOM node.

In other words, the call to `listen!` can take two forms:

If `elem-sel` is a DOM node, i.e., you&apos;re doing something like:

    (listen! elem :click click-handler)

then `click-handler` will be set as a listener for `click` events
on the `elem`.

If `elem-sel` is a sequence:

    (listen! [elem :.selector.for :.some.descendants] :click click-handler)

then `click-handler` will be set as a listener for `click` events
on descendants of `elem` that match the selector

Also accepts any number of event-type and handler pairs for setting
multiple listeners at once:

    (listen! some-elem :click click-handler :hover hover-handler)</pre></div></div><div class="public anchor" id="var-listen-once.21"><h3>listen-once!</h3><div class="usage"><code>(listen-once! elem-sel &amp; type-fs)</code></div><div class="doc"><pre class="plaintext">Behaves like `listen!`, but removes the listener after the first event occurs.
</pre></div></div><div class="public anchor" id="var-live-listener"><h3>live-listener</h3><div class="usage"><code>(live-listener elem selector f)</code></div><div class="doc"><pre class="plaintext">fires f if event.target is found with `selector`
</pre></div></div><div class="public anchor" id="var-matches-pred"><h3>matches-pred</h3><div class="usage"><code>(matches-pred base selector)</code><code>(matches-pred selector)</code></div><div class="doc"><pre class="plaintext">Returns a predicate on nodes that match `selector` at the
time of this `matches-pred` call (may return outdated results
if you fuck with the DOM)</pre></div></div><div class="public anchor" id="var-parent"><h3>parent</h3><div class="usage"><code>(parent elem)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-prepend.21"><h3>prepend!</h3><div class="usage"><code>(prepend! parent child)</code><code>(prepend! parent child &amp; more-children)</code></div><div class="doc"><pre class="plaintext">Prepend `child` to `parent`
</pre></div></div><div class="public anchor" id="var-px"><h3>px</h3><div class="usage"><code>(px elem k)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-remove.21"><h3>remove!</h3><div class="usage"><code>(remove! elem)</code><code>(remove! p elem)</code></div><div class="doc"><pre class="plaintext">Remove `elem` from `parent`, return `parent`
</pre></div></div><div class="public anchor" id="var-remove-attr.21"><h3>remove-attr!</h3><div class="usage"><code>(remove-attr! elem k)</code><code>(remove-attr! elem k &amp; ks)</code></div><div class="doc"><pre class="plaintext">Removes dom attributes on and returns `elem`.
`class` and `classes` are special cases which clear
out the class name on removal.</pre></div></div><div class="public anchor" id="var-remove-class.21"><h3>remove-class!</h3><div class="usage"><code>(remove-class! elem c)</code><code>(remove-class! elem class &amp; classes)</code></div><div class="doc"><pre class="plaintext">Remove `c` from `elem` class list
</pre></div></div><div class="public anchor" id="var-replace.21"><h3>replace!</h3><div class="usage"><code>(replace! elem new)</code></div><div class="doc"><pre class="plaintext">Replace `elem` with `new`, return `new`
</pre></div></div><div class="public anchor" id="var-replace-contents.21"><h3>replace-contents!</h3><div class="usage"><code>(replace-contents! p child)</code></div><div class="doc"><pre class="plaintext">Replace children of `elem` with `child`
</pre></div></div><div class="public anchor" id="var-scroll-into-view"><h3>scroll-into-view</h3><div class="usage"><code>(scroll-into-view elem align-with-top?)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-sel"><h3>sel</h3><h4 class="type">macro</h4><div class="usage"><code>(sel data)</code><code>(sel base data)</code></div><div class="doc"><pre class="plaintext">Same behavior as `sel1`, instead keeping the full array that `by-class`
or `by-tag` expand to. Falls back to `document.querySelectorAll` instead of
`document.querySelector`.</pre></div></div><div class="public anchor" id="var-sel1"><h3>sel1</h3><h4 class="type">macro</h4><div class="usage"><code>(sel1 data)</code><code>(sel1 base data)</code></div><div class="doc"><pre class="plaintext">Select a single DOM node. Tries to expand to the native selector methods
as defined by `by-id`, `by-class`, and `by-tag`, falling back to
`document.querySelector` when the selector isn&apos;t a constant.</pre></div></div><div class="public anchor" id="var-selector"><h3>selector</h3><div class="usage"><code>(selector data)</code></div><div class="doc"><pre class="plaintext">Returns a selector in string format.
Accepts string, keyword, or collection.</pre></div></div><div class="public anchor" id="var-set-attr.21"><h3>set-attr!</h3><div class="usage"><code>(set-attr! elem k)</code><code>(set-attr! elem k v)</code><code>(set-attr! elem k v &amp; kvs)</code></div><div class="doc"><pre class="plaintext">Sets dom attributes on and returns `elem`.
Attributes without values will be set to &quot;true&quot;:

    (set-attr! elem :disabled)

With values, the function takes variadic kv pairs:

    (set-attr! elem :id &quot;some-id&quot;
                    :name &quot;some-name&quot;)</pre></div></div><div class="public anchor" id="var-set-class.21"><h3>set-class!</h3><div class="usage"><code>(set-class! elem c)</code></div><div class="doc"><pre class="plaintext">Set the css class of `elem` to `elem`
</pre></div></div><div class="public anchor" id="var-set-html.21"><h3>set-html!</h3><div class="usage"><code>(set-html! elem html)</code></div><div class="doc"><pre class="plaintext">Set the innerHTML of `elem` to `html`
</pre></div></div><div class="public anchor" id="var-set-px.21"><h3>set-px!</h3><div class="usage"><code>(set-px! elem &amp; kvs)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-set-style.21"><h3>set-style!</h3><div class="usage"><code>(set-style! elem &amp; kvs)</code></div><div class="doc"><pre class="plaintext">Set the style of `elem` using key-value pairs:

(set-style! elem :display &quot;block&quot; :color &quot;red&quot;)</pre></div></div><div class="public anchor" id="var-set-text.21"><h3>set-text!</h3><div class="usage"><code>(set-text! elem text)</code></div><div class="doc"><pre class="plaintext">Set the textContent of `elem` to `text`, fall back to innerText
</pre></div></div><div class="public anchor" id="var-set-value.21"><h3>set-value!</h3><div class="usage"><code>(set-value! elem value)</code></div><div class="doc"><pre class="plaintext">Set the value of `elem` to `value`
</pre></div></div><div class="public anchor" id="var-show.21"><h3>show!</h3><div class="usage"><code>(show! elem)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-special-listener-makers"><h3>special-listener-makers</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-style"><h3>style</h3><div class="usage"><code>(style elem)</code><code>(style elem k)</code></div><div class="doc"><pre class="plaintext">The computed style of `elem`, optionally specifying the key of
a particular style to return</pre></div></div><div class="public anchor" id="var-text"><h3>text</h3><div class="usage"><code>(text elem)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-toggle.21"><h3>toggle!</h3><div class="usage"><code>(toggle! elem show?)</code><code>(toggle! elem)</code></div><div class="doc"><pre class="plaintext">Display or hide the given `elem` (using display: none).
Takes an optional boolean `show?`</pre></div></div><div class="public anchor" id="var-toggle-attr.21"><h3>toggle-attr!</h3><div class="usage"><code>(toggle-attr! elem k)</code><code>(toggle-attr! elem k add?)</code></div><div class="doc"><pre class="plaintext">Toggles a dom attribute `k` on `elem`, optionally specifying
the boolean value with `add?`</pre></div></div><div class="public anchor" id="var-toggle-class.21"><h3>toggle-class!</h3><div class="usage"><code>(toggle-class! elem c)</code><code>(toggle-class! elem class add?)</code></div><div class="doc"><pre class="plaintext">(toggle-class! elem class) will add-class! if elem does not have class
and remove-class! otherwise.
(toggle-class! elem class add?) will add-class! if add? is truthy,
otherwise it will remove-class!</pre></div></div><div class="public anchor" id="var-unlisten.21"><h3>unlisten!</h3><div class="usage"><code>(unlisten! elem-sel &amp; type-fs)</code></div><div class="doc"><pre class="plaintext">Removes event listener for the element defined in `elem-sel`,
 which is the same format as listen!.

The following forms are allowed, and will remove all handlers
that match the parameters passed in:

    (unlisten! [elem :.selector] :click event-listener)

    (unlisten! [elem :.selector]
      :click event-listener
      :mouseover other-event-listener)</pre></div></div><div class="public anchor" id="var-update-event-listeners.21"><h3>update-event-listeners!</h3><div class="usage"><code>(update-event-listeners! elem f &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-value"><h3>value</h3><div class="usage"><code>(value elem)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></body></html>